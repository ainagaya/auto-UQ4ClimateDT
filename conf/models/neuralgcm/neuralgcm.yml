# Variables
# ---------
VARIABLES:
  VAR2D: "263101/263001" # Surface variables: time-mean sea surface temperature, sea_ice_cover
  VAR3D: "129/133/130/131/132/235088/246" # Pressure level variables: z, q, t, u, v, time-mean total column cloud ice water (should be specific cloud ice water content)
  PLEVELS: "1000/925/850/700/600/500/400/300/250/200/150/100/50"
  TARGETGRID: "N320" # Horizontal regridding to a Gaussian grid. For processing fine-resolution data conservative regridding is most appropriate
MODEL:
  #@param ['v1/deterministic_0_7_deg.pkl', 'v1/deterministic_1_4_deg.pkl', 'v1/deterministic_2_8_deg.pkl', 'v1/stochastic_1_4_deg.pkl', 'v1_precip/stochastic_precip_2_8_deg.pkl', 'v1_precip/stochastic_evap_2_8_deg'] {type: "string"}
  CHECKPOINT: "/gpfs/scratch/bsc32/bsc032376/tfm/deterministic_2_8_deg.pkl"
JOBS:
  SIM:
    FILE: templates/sim_neuralgcm.sh,templates/config_neuralgcm.yml
    FOR:
      NAMES: [["temperature", "sea_ice_cover", "u_component_of_wind", "v_component_of_wind", "specific_humidity", "specific_cloud_ice_water_content", "geopotential", "specific_cloud_liquid_water_content", "sea_surface_temperature"]]
      ICS_PATH:
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_temperature
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_sea_ice_cover
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_u_component_of_wind
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_v_component_of_wind
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_specific_humidity
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_specific_cloud_ice_water_content
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_geopotential
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_specific_cloud_liquid_water_content
        - /gpfs/scratch/ehpc204/bsc032376/ics/mixed/fdb_var_sea_surface_temperature
    PLATFORM: "MARENOSTRUM5ACC"
    DEPENDENCIES: SIM-1
    RUNNING: CHUNK
    NODES: 1
    PROCESSORS: 80
  POSTPROC:
    FILE: templates/postproc_neuralgcm.sh,templates/config_neuralgcm.yml
    PLATFORM: "MARENOSTRUM5-LOGIN"
    DEPENDENCIES: SIM
    RUNNING: DATE
